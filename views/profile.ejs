<!doctype html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="/stylesheets/profile.css">

    <link
    href="https://cdn.jsdelivr.net/npm/remixicon@4.1.0/fonts/remixicon.css"
    rel="stylesheet"/>
    <title>Pinterest Clone</title>
</head>
<body>
    <div class="background ">
        <div id="nav" class="w-full px-10 py-3 flex bg-black justify-between">
            <h3 class="ml-5 px-5">Pinterest</h3>
            <div id="func">
                <a id="profile" href="/">Profile</a><a id="feed" href="/feed">Feed</a><a id="logout" href="/logout">Logout</a>
            </div>
        </div>
        <form id="uplaodform" hidden action="/fileupload" method="post" enctype="multipart/form-data">
            <input type="file" name="image">
        </form>
        <div class="containers rounded-xl">
            <div class="cards py-1">
                <div >
                    <div class="profile-picture relative"> 
                        <img src="https://media.istockphoto.com/id/1442974342/photo/thinking-man-computer-coding-software-development-and-programming-for-writing-code-media.jpg?s=1024x1024&w=is&k=20&c=EsuRPdOaPal-Pp8i0C0YkathGKz3y1k9rneJ8GFPKIk="
                            alt="Profile Picture">
                            <span id="uploadicon" class="pencil flex w-8 h-10 justify-center mb-4 bg-white rounded-full">
                                <i class="ri-pencil-line bg-zinc-400" ></i>
                            </span>
                    </div>
                </div>
                <h2 class="name py-0"><%= user.username %></h2>
                <h3 class="username"><%=user.email %></h3>
                <p class="description"><%= user.posts.description %></p>
                <a href="/add" class="button text-white">Add New Post</a>
            </div>
        </div>
        <div class="container flex flex-row my-1 mx-5  px-1 items-start py-2 ">
            
            <div class="card" style=" width: 11rem;">
                <img src="/images/uploads/<%= user?.posts[0]?.image %>"
                    class="card-img-top" alt="...">
                <div class="card-body text-wrap mt-2 py-0 px-2 ">
                    <a href="/show/posts" class="card-title mr-2 font-semibold">Your uploaded pins</a>
                    <h6 class="text-xs ml-5 font-sans"><%= user.posts.length %> pins</h6>
                </div>
            </div>
        </div>
    </div>
    </div>
    <script>
        document.querySelector("#uploadicon").addEventListener("click", function(){
            document.querySelector("#uplaodform input").click()
        })
        document.querySelector("#uplaodform input").addEventListener("change", function(){
            document.querySelector("#uplaodform").submit()
        })
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>
</body>

</html>